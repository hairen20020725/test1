# 微信公众号接入快速开始 🚀

## 5分钟快速接入

### 前提条件
- ✅ 已有微信公众号（订阅号或服务号）
- ✅ 应用已部署到线上（HTTPS域名）

### 接入步骤

#### 第1步：登录微信公众平台
```
网址：https://mp.weixin.qq.com/
使用管理员微信扫码登录
```

#### 第2步：创建自定义菜单
```
1. 点击左侧菜单：管理 → 自定义菜单
2. 点击"+"添加菜单
3. 填写菜单信息：
   - 菜单名称：空调推荐
   - 菜单内容：跳转网页
   - 页面地址：https://your-domain.com/
4. 点击"保存并发布"
```

#### 第3步：测试验证
```
1. 用手机微信关注公众号
2. 点击底部菜单"空调推荐"
3. 验证页面打开正常
```

### 完成！🎉

---

## 菜单配置示例

### 单个菜单
```
菜单名称：空调推荐
菜单类型：跳转网页
页面地址：https://your-domain.com/
```

### 多级菜单（推荐）
```
一级菜单：智能服务
  ├─ 空调推荐
  │  类型：跳转网页
  │  地址：https://your-domain.com/
  │
  ├─ 产品库
  │  类型：跳转网页
  │  地址：https://your-domain.com/products
  │
  └─ 联系客服
     类型：发送消息
     内容：客服消息
```

---

## 自动回复配置

### 关注后自动回复

**路径**：设置与开发 → 自动回复 → 被关注回复

**内容**：
```
🎉 欢迎关注智能空调推荐！

我们提供专业的空调方案推荐服务：

📸 上传户型图
🤖 AI智能分析  
💡 专业方案推荐
📚 产品知识库

点击底部菜单"空调推荐"立即体验👇
```

### 关键词自动回复

**路径**：设置与开发 → 自动回复 → 关键词回复

**规则1：空调推荐**
```
关键词：空调、推荐、方案
回复内容：
  点击链接使用智能空调推荐工具：
  https://your-domain.com/
```

**规则2：产品查询**
```
关键词：产品、型号、价格
回复内容：
  查看产品详情：
  https://your-domain.com/products
```

---

## 常用链接

### 应用页面
```
首页：https://your-domain.com/
产品库：https://your-domain.com/products
管理后台：https://your-domain.com/admin/login
```

### 微信平台
```
公众平台：https://mp.weixin.qq.com/
开发文档：https://developers.weixin.qq.com/doc/offiaccount/
```

---

## 注意事项

### ⚠️ 重要提醒

1. **域名要求**
   - 必须使用HTTPS
   - 必须是已备案域名
   - 建议使用独立域名

2. **菜单限制**
   - 一级菜单最多3个
   - 二级菜单每个最多5个
   - 菜单名称：一级4个汉字，二级8个汉字

3. **发布时间**
   - 菜单发布后5-10分钟生效
   - 用户需要取消关注后重新关注才能看到新菜单
   - 或等待缓存自动更新

4. **测试建议**
   - 先在测试公众号测试
   - 确认无误后再在正式号发布
   - 保留旧菜单配置备份

---

## 故障排查

### 问题1：菜单不显示
**解决方案**：
1. 检查是否已保存并发布
2. 取消关注后重新关注
3. 等待5-10分钟缓存更新
4. 清除微信缓存

### 问题2：点击菜单无反应
**解决方案**：
1. 检查链接地址是否正确
2. 确认域名可以正常访问
3. 检查是否使用HTTPS
4. 查看公众平台错误日志

### 问题3：页面显示异常
**解决方案**：
1. 检查移动端适配
2. 在微信开发者工具中调试
3. 检查浏览器兼容性
4. 查看控制台错误信息

---

## 进阶配置

### 如果需要获取用户信息

**步骤1：配置域名**
```
路径：设置与开发 → 公众号设置 → 功能设置
配置：网页授权域名
域名：your-domain.com
```

**步骤2：获取凭证**
```
路径：设置与开发 → 基本配置
获取：AppID 和 AppSecret
```

**步骤3：修改代码**
```
参考完整文档：WECHAT_INTEGRATION_GUIDE.md
```

---

## 推荐配置

### 最佳实践菜单配置

```
菜单1：智能推荐
  └─ 跳转到：https://your-domain.com/

菜单2：产品服务
  ├─ 产品库：https://your-domain.com/products
  ├─ 使用指南：发送图文消息
  └─ 常见问题：发送图文消息

菜单3：关于我们
  ├─ 公司介绍：发送图文消息
  ├─ 联系方式：发送文字消息
  └─ 在线客服：客服消息
```

---

## 检查清单

### 接入前检查
- [ ] 已有微信公众号
- [ ] 应用已部署到HTTPS域名
- [ ] 移动端显示正常
- [ ] 所有功能测试通过

### 配置检查
- [ ] 菜单名称清晰易懂
- [ ] 链接地址正确无误
- [ ] 已保存并发布菜单
- [ ] 自动回复已配置

### 测试检查
- [ ] 菜单显示正常
- [ ] 点击跳转正常
- [ ] 页面功能正常
- [ ] 自动回复正常

---

## 快速命令

### 测试链接
```bash
# 在浏览器中测试
https://your-domain.com/

# 在微信中测试
微信扫描二维码或点击菜单
```

### 查看日志
```
路径：设置与开发 → 接口权限 → 网页服务 → 网页授权
查看：授权回调页面域名
```

---

## 获取帮助

### 官方支持
- 微信公众平台客服
- 开发者社区：https://developers.weixin.qq.com/community/

### 文档资源
- 完整接入指南：WECHAT_INTEGRATION_GUIDE.md
- 数据库管理：DATABASE_UPDATE_GUIDE.md
- 快速参考：QUICK_REFERENCE.md

---

## 总结

接入微信公众号非常简单：

1. ✅ **5分钟**：设置自定义菜单
2. ✅ **10分钟**：配置自动回复
3. ✅ **15分钟**：完整测试验证

**关键要点**：
- 确保应用已部署到HTTPS域名
- 菜单配置清晰易懂
- 充分测试后再发布

**下一步**：
- 查看完整文档了解高级功能
- 配置网页授权获取用户信息
- 集成微信分享功能

---

**更新时间**: 2024-12-27
**适用版本**: 当前版本
**状态**: ✅ 可直接使用
